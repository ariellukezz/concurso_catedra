import{i,D as T,r as G,o as p,c,a as o,w as t,d as e,F as B,E as w,b as d,G as H,t as y,f as I,u as J}from"./app-DfjDEb4w.js";/* empty css                                                                         */import{C as K}from"./index-DaSgdO8-.js";import{M as Q}from"./index-BN9iklma.js";import{a as b}from"./index-r4i2i6zq.js";import{B as W}from"./index-Lqz-7cwI.js";import{I as X}from"./index-LqUsmPKS.js";import{S as Y}from"./index-CaYFCych.js";import{_ as Z,F as ee}from"./index-RtO_xSez.js";import{_ as oe,a as te}from"./index-DmxX4Bs7.js";import{_ as ae}from"./index-DuK1LCL5.js";import"./compact-item-BPWhzIml.js";import"./index-BWFYAGmP.js";import"./Col-Da2LrQHR.js";import"./firstNotUndefined-DV4CJdVr.js";import"./shallowequal-BOxrWo85.js";import"./index-BPay5Q4X.js";import"./injectionKey-BXVc-oGP.js";import"./collapseMotion-B2iHOIsw.js";import"./useRefs-Y7v4NFsX.js";import"./FormItemContext-CYGNExwK.js";import"./statusUtils-DJICM3v5.js";import"./index-CjzoTMOF.js";import"./EyeOutlined-i4c8ja4W.js";import"./useMemo-Dw9nNSyE.js";import"./DownOutlined-DK8LamTq.js";import"./CheckOutlined-BfBe4wcP.js";import"./move-D0jrFHib.js";const se={class:"flex justify-between border-b-2",style:{"border-bottom":"solid 2px #009DD1","padding-bottom":"8px"}},le=e("div",null,[e("span",{style:{"font-weight":"bold","font-size":"1rem",color:"#009DD1"}}," VII. Idioma (extranjero o nativo)* ")],-1),ne={style:{"margin-top":"-5px"}},re={class:"mt-5 mx-2 my-2"},ie={class:"flex justify-between",style:{margin:"-15px -10px"}},de={class:""},ue={class:"font-bold",style:{"font-size":"1rem"}},pe={class:"flex",style:{"margin-top":"0px"}},ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1),me=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#1a2843","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit-2"},[e("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})],-1),_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),fe=e("label",null,[d("Idioma"),e("span",{style:{color:"red"}},"*")],-1),ve=e("label",null,[d("Nivel"),e("span",{style:{color:"red"}},"*")],-1),he=e("label",null,[d("Archivo PDF (Max. 2mb)"),e("span",{style:{color:"red"}},"*")],-1),ge={key:0,class:"mt-2"},xe=["src"],we={class:"flex justify-end"},ye={key:0,class:"mt-2"},be=["src"],ke={class:"flex justify-end"},Ze={__name:"idiomas",setup(Ce){const U=window.location.origin,m=i(!1),k=i([]),j=i([{value:1,label:"Nivel básico"},{value:2,label:"Nivel Intermedio"},{value:3,label:"Nivel Avanzado"}]),_=i(!1),f=i(null),r=T({id:null,idioma:null,nivel:null,fileList:[]}),E=()=>{m.value=!0},C=a=>{f.value=a,_.value=!0},M=async a=>{try{(await w.get(`/eliminar-idioma/${a}`)).data.estado?await g():console.error("No se pudo eliminar el título.")}catch(s){console.error("Error al eliminar el título:",s)}},g=async()=>{try{const a=await w.get("/get-idiomas");a.data.estado?k.value=a.data.datos:console.error("No se encontraron títulos.")}catch(a){console.error("Error en la solicitud de títulos:",a)}},P=()=>{f.value=null,r.fileList=[]},u=i(!1),v=i(null),D=i(0),z=a=>{if(a.type==="application/pdf"){const s=new FileReader;s.onload=n=>{v.value=n.target.result},s.readAsDataURL(a),r.fileList=[a]}else b.error("¡Solo puedes cargar archivos PDF!");return!1},A=async()=>{const a=new FormData;a.append("file",r.fileList[0]),a.append("idioma",r.idioma),a.append("nivel",r.nivel);try{u.value=!0,D.value=0;const s=await w.post("save-idioma",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer your-auth-token"},onUploadProgress:n=>{D.value=Math.round(n.loaded*100/n.total)}});m.value=!1,u.value=!1,b.success("¡Archivo PDF cargado exitosamente!"),await g()}catch(s){u.value=!1,b.error("Error al cargar el archivo."),console.error("Error en la carga del archivo:",s)}};return g(),(a,s)=>{const n=W,R=K,V=X,x=Z,h=oe,S=Y,$=G("upload-outlined"),q=ae,F=te,O=ee,L=Q;return p(),c(B,null,[o(R,{class:"mx-2 my-2"},{default:t(()=>[e("div",null,[e("div",se,[le,e("div",ne,[o(n,{onClick:s[0]||(s[0]=l=>E())},{default:t(()=>[d("Agregar")]),_:1})])]),e("div",re,[(p(!0),c(B,null,H(k.value,l=>(p(),c("div",{class:"mb-5",key:l},[e("div",ie,[e("div",de,[e("div",null,[e("span",ue,y(l.idioma),1)]),e("div",null,y(l.nivel),1)]),e("div",pe,[o(n,{onClick:N=>C(l.url),class:"mr-2",style:{width:"20px",height:"20px","padding-left":"3px",border:"solid #1a2843 1px"}},{default:t(()=>[ce]),_:2},1032,["onClick"]),o(n,{onClick:N=>C(l.url),class:"mr-2",style:{width:"20px",height:"20px","padding-left":"3px",border:"solid #1a2843 1px"}},{default:t(()=>[me]),_:2},1032,["onClick"]),o(n,{danger:"",onClick:N=>M(l.id),style:{width:"20px",height:"20px","padding-left":"3px"}},{default:t(()=>[_e]),_:2},1032,["onClick"])])])]))),128))])])]),_:1}),e("div",null,[o(L,{open:m.value,"onUpdate:open":s[3]||(s[3]=l=>m.value=l),title:"Registro de investacion",onOk:a.handleOk},{footer:t(()=>[e("div",we,[o(n,{type:"primary",disabled:!v.value,loading:u.value,style:{"margin-top":"16px"},onClick:A},{default:t(()=>[d(y(u.value?"Subiendo...":"Comenzar carga"),1)]),_:1},8,["disabled","loading"])])]),default:t(()=>[o(O,{ref:"formDatos",name:"form",model:r,rules:a.formRules},{default:t(()=>[o(F,{gutter:16},{default:t(()=>[o(h,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[fe,o(x,{name:"idioma",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:t(()=>[o(V,{value:r.idioma,"onUpdate:value":s[1]||(s[1]=l=>r.idioma=l),style:{height:"32px"}},{suffix:t(()=>[]),_:1},8,["value"])]),_:1})]),_:1}),o(h,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[ve,o(x,{name:"nivel",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:t(()=>[o(S,{ref:"select",value:r.nivel,"onUpdate:value":s[2]||(s[2]=l=>r.nivel=l),style:{width:"100%"},options:j.value,onFocus:a.focus,onChange:a.selecionarTipo},null,8,["value","options","onFocus","onChange"])]),_:1})]),_:1}),o(h,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[he,o(x,{name:"fileList",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:t(()=>[o(q,{"file-list":r.fileList,"before-upload":z,onRemove:P},{default:t(()=>[o(n,null,{default:t(()=>[o($),d(" Seleccionar archivo PDF ")]),_:1})]),_:1},8,["file-list"]),v.value?(p(),c("div",ge,[e("iframe",{src:v.value,width:"100%",height:"300px"},null,8,xe)])):I("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["open","onOk"]),o(L,{open:_.value,"onUpdate:open":s[5]||(s[5]=l=>_.value=l),title:"Registro de título",style:{"min-width":"900px"}},{footer:t(()=>[e("div",ke,[o(n,{onClick:s[4]||(s[4]=l=>_.value==!1)},{default:t(()=>[d(" Aceptar ")]),_:1})])]),default:t(()=>[o(F,{gutter:16},{default:t(()=>[o(h,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[f.value?(p(),c("div",ye,[e("iframe",{src:J(U)+"/"+f.value,width:"100%",height:"500px"},null,8,be)])):I("",!0)]),_:1})]),_:1})]),_:1},8,["open"])])],64)}}};export{Ze as default};
