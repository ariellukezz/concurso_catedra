import{i as f,D as A,o as p,c as m,a as t,w as e,F as R,E as g,d as s,b as u,t as F,f as S}from"./app-DfjDEb4w.js";import{b as U}from"./index-r4i2i6zq.js";import{C as B}from"./index-DaSgdO8-.js";import{M}from"./index-BN9iklma.js";import{B as O}from"./index-Lqz-7cwI.js";import{_ as V}from"./index-LqUsmPKS.js";import{_ as $,F as T}from"./index-RtO_xSez.js";import{_ as j}from"./index-8eA5N6MD.js";import{_ as L,a as P}from"./index-DmxX4Bs7.js";import"./compact-item-BPWhzIml.js";import"./Col-Da2LrQHR.js";import"./firstNotUndefined-DV4CJdVr.js";import"./FormItemContext-CYGNExwK.js";import"./index-BWFYAGmP.js";import"./shallowequal-BOxrWo85.js";import"./index-BPay5Q4X.js";import"./injectionKey-BXVc-oGP.js";import"./collapseMotion-B2iHOIsw.js";import"./useRefs-Y7v4NFsX.js";import"./statusUtils-DJICM3v5.js";import"./index-CjzoTMOF.js";import"./EyeOutlined-i4c8ja4W.js";import"./index-ddPpFWKg.js";const G={class:"flex justify-between border-b-2",style:{"border-bottom":"solid 2px #009DD1","padding-bottom":"8px"}},q=s("div",null,[s("span",{style:{"font-weight":"bold","font-size":"1rem",color:"#009DD1"}},"Descripción breve")],-1),z={key:0,style:{"margin-top":"-5px"}},H={key:1,style:{"margin-top":"-5px"}},Z={key:0,class:"mt-3"},J={style:{"text-align":"justify"}},K=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"red","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash"},[s("polyline",{points:"3 6 5 6 21 6"}),s("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),Q={class:"flex justify-end"},bo={__name:"descripcion",setup(W){const c=f(!1),y=()=>{c.value=!0,r.descripcion=i.value.descripcion,r.id=i.value.id},v=f(null),r=A({id:null,descripcion:null}),w=async()=>{await v.value.validateFields();try{await g.post("save-descripcion",r),c.value=!1,r.id==null?d("","DESCRIPCIÓN GUARDADA","background:#90EE90DF; font-weight:bold;"):d("","DESCRIPCIÓN ACTUALIZADA","background:#009DD1DF; font-weight:bold;"),await _()}catch{}},x=async n=>{try{(await g.get(`/delete-descripcion/${n}`)).data.estado&&d("","DESCRIPCIÓN ELIMINADA","background:#DC143CDF; color:white;"),await _()}catch{d("","NO SE PUDO ELIMINAR","background:#DC143CDF; color:white;")}},i=f([]),_=async()=>{try{const n=await g.get("/get-descripcion");n.data.estado===!0&&(i.value=n.data.datos)}catch(n){d("","OCURRIO UN ERRO INTENTELO MÁS TARDE","background:#Da143CbF; color:white;"),console.error("Error en la solicitud de tipos:",n)}},d=(n,o,l)=>{U.open({message:n,description:o,style:l})};return _(),(n,o)=>{const l=O,b=j,h=B,C=V,k=$,D=L,E=P,N=T,I=M;return p(),m(R,null,[t(h,{class:"mx-2 my-2"},{default:e(()=>[s("div",null,[s("div",G,[q,i.value.descripcion?(p(),m("div",H,[t(l,{onClick:o[1]||(o[1]=a=>y())},{default:e(()=>[u("Editar")]),_:1})])):(p(),m("div",z,[t(l,{onClick:o[0]||(o[0]=a=>c.value=!0)},{default:e(()=>[u("Agregar")]),_:1})]))]),i.value.descripcion?(p(),m("div",Z,[s("p",J,[u(F(i.value.descripcion)+" ",1),t(b,{title:"¿Seguro de eliminar？","ok-text":"Si","cancel-text":"No",onConfirm:o[2]||(o[2]=a=>x(i.value.id))},{default:e(()=>[t(l,{text:"",style:{width:"20px",height:"20px","padding-left":"3px"}},{default:e(()=>[K]),_:1})]),_:1})])])):S("",!0)])]),_:1}),t(I,{open:c.value,"onUpdate:open":o[5]||(o[5]=a=>c.value=a),title:"Descripción breve",footer:!1},{default:e(()=>[t(N,{ref_key:"formDatos",ref:v,name:"form",model:r,rules:n.formRules},{default:e(()=>[t(E,{gutter:16},{default:e(()=>[t(D,{xs:24,sm:24,md:24,lg:24},{default:e(()=>[t(k,{name:"descripcion",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:e(()=>[t(C,{rows:6,maxlength:800,"show-count":"",value:r.descripcion,"onUpdate:value":o[3]||(o[3]=a=>r.descripcion=a)},null,8,["value"])]),_:1})]),_:1}),t(D,{xs:24,sm:24,md:24,lg:24},{default:e(()=>[s("div",Q,[t(l,{onClick:o[4]||(o[4]=a=>w()),type:"primary",style:{"margin-top":"0px"}},{default:e(()=>[u(" Guardar descripción ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["open"])],64)}}};export{bo as default};
