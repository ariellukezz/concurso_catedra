import{_ as s,E,u as B,e as x,a as j,x as G}from"./compact-item-C3MMsdSX.js";import{S as g,s as M}from"./index-CllVJQ-s.js";import{o as S}from"./index-DVqLySPe.js";import{J as F,i as P,a as m}from"./app-DjzP6Xc8.js";const l=()=>null;l.isSelectOption=!0;l.displayName="AAutoCompleteOption";const r=()=>null;r.isSelectOptGroup=!0;r.displayName="AAutoCompleteOptGroup";function $(e){var u,o;return((u=e==null?void 0:e.type)===null||u===void 0?void 0:u.isSelectOption)||((o=e==null?void 0:e.type)===null||o===void 0?void 0:o.isSelectOptGroup)}const k=()=>s(s({},S(M(),["loading","mode","optionLabelProp","labelInValue"])),{dataSource:Array,dropdownMenuStyle:{type:Object,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},prefixCls:String,showSearch:{type:Boolean,default:void 0},transitionName:String,choiceTransitionName:{type:String,default:"zoom"},autofocus:{type:Boolean,default:void 0},backfill:{type:Boolean,default:void 0},filterOption:{type:[Boolean,Function],default:!1},defaultActiveFirstOption:{type:Boolean,default:!0},status:String}),v=F({compatConfig:{MODE:3},name:"AAutoComplete",inheritAttrs:!1,props:k(),slots:Object,setup(e,u){let{slots:o,attrs:O,expose:b}=u;E(!e.dropdownClassName);const c=P(),N=()=>{var t;const a=G((t=o.default)===null||t===void 0?void 0:t.call(o));return a.length?a[0]:void 0};b({focus:()=>{var t;(t=c.value)===null||t===void 0||t.focus()},blur:()=>{var t;(t=c.value)===null||t===void 0||t.blur()}});const{prefixCls:i}=B("select",e);return()=>{var t,a,d;const{size:y,dataSource:C,notFoundContent:A=(t=o.notFoundContent)===null||t===void 0?void 0:t.call(o)}=e;let p;const{class:_}=O,h={[_]:!!_,[`${i.value}-lg`]:y==="large",[`${i.value}-sm`]:y==="small",[`${i.value}-show-search`]:!0,[`${i.value}-auto-complete`]:!0};if(e.options===void 0){const f=((a=o.dataSource)===null||a===void 0?void 0:a.call(o))||((d=o.options)===null||d===void 0?void 0:d.call(o))||[];f.length&&$(f[0])?p=f:p=C?C.map(n=>{if(x(n))return n;switch(typeof n){case"string":return m(l,{key:n,value:n},{default:()=>[n]});case"object":return m(l,{key:n.value,value:n.value},{default:()=>[n.text]});default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}}):[]}const w=S(s(s(s({},e),O),{mode:g.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:N,notFoundContent:A,class:h,popupClassName:e.popupClassName||e.dropdownClassName,ref:c}),["dataSource","loading"]);return m(g,w,j({default:()=>[p]},S(o,["default","dataSource","options"])))}}}),J=s(v,{Option:l,OptGroup:r,install(e){return e.component(v.name,v),e.component(l.displayName,l),e.component(r.displayName,r),e}});export{J as _};
