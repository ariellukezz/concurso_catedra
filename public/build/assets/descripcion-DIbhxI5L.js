import{i as m,D as A,o as _,c as u,a as t,w as n,F as R,E as f,d as s,b as g,f as w,t as F}from"./app-DjzP6Xc8.js";import{b as S}from"./index-C6cJBKTJ.js";import{C as U}from"./index-D0HqagQ7.js";import{M as B}from"./index-D4hYEUdR.js";import{B as M}from"./index-B-NKoIPa.js";import{_ as O}from"./index-DX_P1xWU.js";import{_ as V,F as T}from"./index-BVPH4-rA.js";import{_ as $}from"./index-BsIqjoog.js";import{_ as j,a as L}from"./index-DVqLySPe.js";import"./compact-item-C3MMsdSX.js";import"./Col-D9pf7s4-.js";import"./firstNotUndefined-By4c3kmV.js";import"./FormItemContext-BStwt122.js";import"./index-C9tvn3ls.js";import"./shallowequal-Bw13IqAx.js";import"./index-CZlnR-fw.js";import"./injectionKey-BXVc-oGP.js";import"./collapseMotion-v82YJKL-.js";import"./useRefs-CY2EYO9G.js";import"./statusUtils-DDrkrFt_.js";import"./index-D7UOKjLm.js";import"./EyeOutlined-C0haTXOK.js";import"./index-PIJAXttM.js";const P={class:"flex justify-between border-b-2",style:{"border-bottom":"solid 2px #009DD1","padding-bottom":"8px"}},G=s("div",null,[s("span",{style:{"font-weight":"bold","font-size":"1rem",color:"#009DD1"}},"Descripción breve")],-1),q={key:0,style:{"margin-top":"-5px"}},z={key:0,class:"mt-3"},H={style:{"text-align":"justify"}},Z=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"red","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash"},[s("polyline",{points:"3 6 5 6 21 6"}),s("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),J={class:"flex justify-end"},yo={__name:"descripcion",setup(K){const p=m(!1),v=m(null),a=A({id:null,descripcion:null}),y=async()=>{await v.value.validateFields();try{await f.post("save-descripcion",a),p.value=!1,a.id==null?l("","DESCRIPCIÓN GUARDADA","background:#90EE90DF; font-weight:bold;"):l("","DESCRIPCIÓN ACTUALIZADA","background:#009DD1DF; font-weight:bold;"),await d()}catch{}},x=async e=>{try{(await f.get(`/delete-descripcion/${e}`)).data.estado&&l("","DESCRIPCIÓN ELIMINADA","background:#DC143CDF; color:white;"),await d()}catch{l("","NO SE PUDO ELIMINAR","background:#DC143CDF; color:white;")}},i=m([]),d=async()=>{try{const e=await f.get("/get-descripcion");e.data.estado===!0&&(i.value=e.data.datos)}catch(e){l("","OCURRIO UN ERRO INTENTELO MÁS TARDE","background:#Da143CbF; color:white;"),console.error("Error en la solicitud de tipos:",e)}},l=(e,o,c)=>{S.open({message:e,description:o,style:c})};return d(),(e,o)=>{const c=M,h=$,b=U,C=O,k=V,D=j,E=L,N=T,I=B;return _(),u(R,null,[t(b,{class:"mx-2 my-2"},{default:n(()=>[s("div",null,[s("div",P,[G,i.value.descripcion?w("",!0):(_(),u("div",q,[t(c,{onClick:o[0]||(o[0]=r=>p.value=!0)},{default:n(()=>[g("Agregar")]),_:1})]))]),i.value.descripcion?(_(),u("div",z,[s("p",H,[g(F(i.value.descripcion)+" ",1),t(h,{title:"¿Seguro de eliminar？","ok-text":"Si","cancel-text":"No",onConfirm:o[1]||(o[1]=r=>x(i.value.id))},{default:n(()=>[t(c,{text:"",style:{width:"20px",height:"20px","padding-left":"3px"}},{default:n(()=>[Z]),_:1})]),_:1})])])):w("",!0)])]),_:1}),t(I,{open:p.value,"onUpdate:open":o[4]||(o[4]=r=>p.value=r),title:"Descripción breve",footer:!1},{default:n(()=>[t(N,{ref_key:"formDatos",ref:v,name:"form",model:a,rules:e.formRules},{default:n(()=>[t(E,{gutter:16},{default:n(()=>[t(D,{xs:24,sm:24,md:24,lg:24},{default:n(()=>[t(k,{name:"descripcion",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:n(()=>[t(C,{rows:6,maxlength:800,"show-count":"",value:a.descripcion,"onUpdate:value":o[2]||(o[2]=r=>a.descripcion=r)},null,8,["value"])]),_:1})]),_:1}),t(D,{xs:24,sm:24,md:24,lg:24},{default:n(()=>[s("div",J,[t(c,{onClick:o[3]||(o[3]=r=>y()),type:"primary",style:{"margin-top":"0px"}},{default:n(()=>[g(" Guardar descripción ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["open"])],64)}}};export{yo as default};
