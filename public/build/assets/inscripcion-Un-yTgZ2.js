import{i as n,D as T,l as k,o as v,c as A,a as l,w as s,d as e,F as h,E as u,b as i,G as U,t as I}from"./app-DjzP6Xc8.js";import{C as z}from"./index-D0HqagQ7.js";import{M as L}from"./index-D4hYEUdR.js";import{a as F}from"./index-C6cJBKTJ.js";import{B}from"./index-B-NKoIPa.js";import{S as P}from"./index-CllVJQ-s.js";import{_ as V,F as j}from"./index-BVPH4-rA.js";import{_ as H,a as $}from"./index-DVqLySPe.js";import"./compact-item-C3MMsdSX.js";import"./index-C9tvn3ls.js";import"./Col-D9pf7s4-.js";import"./firstNotUndefined-By4c3kmV.js";import"./shallowequal-Bw13IqAx.js";import"./index-CZlnR-fw.js";import"./injectionKey-BXVc-oGP.js";import"./collapseMotion-v82YJKL-.js";import"./useRefs-CY2EYO9G.js";import"./FormItemContext-BStwt122.js";import"./statusUtils-DDrkrFt_.js";import"./useMemo-BDnbGG_P.js";import"./DownOutlined-BjpBAteB.js";import"./CheckOutlined-C91lsFFN.js";import"./move-DKmVe9rK.js";const Y={class:"flex justify-between border-b-2",style:{"border-bottom":"solid 2px #009DD1","padding-bottom":"8px"}},q=e("div",null,[e("span",{style:{"font-weight":"bold","font-size":"1rem",color:"#009DD1"}}," Seleccion de plaza ")],-1),Q={style:{"margin-top":"-5px"}},J={class:"mt-5 mx-2 my-2"},Z={class:"flex justify-between",style:{margin:"-5px -10px"}},K={class:""},W={class:"font-bold"},X={class:"italic flex"},ee={class:"italic",style:{"font-size":".9rem"}},ae={class:"italic",style:{"font-size":".9rem"}},oe={class:"flex",style:{"margin-top":"0px"}},le=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1),te=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#1a2843","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit-2"},[e("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})],-1),se=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),re={class:"px-4"},ne=e("label",null,[i("Programa"),e("span",{style:{color:"red"}},"*")],-1),ie=e("label",null,[i("Plaza(s)"),e("span",{style:{color:"red"}},"*")],-1),ce={class:"flex justify-end"},Te={__name:"inscripcion",setup(de){const p=n(!1),_=n([]);n(null);const r=T({id:null,programa:null,plazas:[]}),b=()=>{p.value=!0},R=async a=>{try{(await u.get(`/eliminar-bonificacion/${a}`)).data.estado?await m():console.error("No se pudo eliminar el título.")}catch(o){console.error("Error al eliminar el título:",o)}},m=async()=>{try{const a=await u.get("/get-inscripciones");a.data.datos?(console.log(a.data.datos),_.value=a.data.datos):console.error("No se encontraron títulos.")}catch(a){console.error("Error en la solicitud de títulos:",a)}},f=n([]),w=async()=>{try{const a=await u.get("/get-plazas/"+r.programa);a.data.estado&&(f.value=a.data.datos)}catch(a){console.error("Error en la solicitud de títulos:",a)}},c=n(!1),O=n(0),y=async()=>{const a=new FormData;a.append("programa",r.programa),a.append("plazas",r.plazas);try{c.value=!0,O.value=0;const o=await u.post("save-inscripcion",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer your-auth-token"}});p.value=!1,c.value=!1,F.success("¡Participante inscrito!"),await m()}catch(o){c.value=!1,console.error("Error al registrar inscripción:",o)}};k(()=>r.programa,(a,o)=>{w()});const x=n([{value:1,label:"INGENIERIA AGRONOMICA"},{value:2,label:"INGENIERIA AGROINDUSTRIAL"},{value:3,label:"INGENIERIA TOPOGRAFICA Y AGRIMENSURA"},{value:4,label:"MEDICINA VETERINARIA Y ZOOTECNIA"},{value:5,label:"INGENIERIA ECONOMICA"},{value:6,label:"CIENCIAS CONTABLES"},{value:7,label:"ADMINISTRACION"},{value:8,label:"TRABAJO SOCIAL"},{value:9,label:"ENFERMERIA"},{value:10,label:"INGENIERIA DE MINAS"},{value:11,label:"HUMANIDADES"},{value:12,label:"SOCIOLOGIA"},{value:13,label:"TURISMO"},{value:14,label:"ANTROPOLOGIA"},{value:15,label:"CIENCIAS DE LA COMUNICACION SOCIAL"},{value:16,label:"ARTE"},{value:17,label:"BIOLOGIA"},{value:18,label:"EDUCACION SECUNDARIA"},{value:19,label:"EDUCACION PRIMARIA"},{value:20,label:"EDUCACION INICIAL"},{value:21,label:"EDUCACION FISICA"},{value:22,label:"INGENIERIA ESTADISTICA E INFORMATICA"},{value:23,label:"DERECHO"},{value:24,label:"INGENIERIA QUIMICA"},{value:25,label:"ODONTOLOGIA"},{value:26,label:"NUTRICION HUMANA"},{value:27,label:"INGENIERIA GEOLOGICA"},{value:28,label:"INGENIERIA METALURGICA"},{value:29,label:"INGENIERIA CIVIL"},{value:30,label:"ARQUITECTURA Y URBANISMO"},{value:31,label:"CIENCIAS FISICO MATEMATICAS"},{value:32,label:"INGENIERIA AGRICOLA"},{value:33,label:"MEDICINA HUMANA"},{value:34,label:"INGENIERIA MECANICA ELECTRICA"},{value:35,label:"INGENIERIA ELECTRONICA"},{value:36,label:"INGENIERIA DE SISTEMAS"}]);return m(),(a,o)=>{const d=B,S=z,E=P,C=V,N=H,D=$,M=j,G=L;return v(),A(h,null,[l(S,{class:"mx-2 my-2"},{default:s(()=>[e("div",null,[e("div",Y,[q,e("div",Q,[l(d,{onClick:o[0]||(o[0]=t=>b())},{default:s(()=>[i("Agregar")]),_:1})])]),e("div",J,[(v(!0),A(h,null,U(_.value,t=>(v(),A("div",{class:"mb-5",key:t},[e("div",Z,[e("div",K,[e("div",null,[e("span",W,I(t.escuela),1)]),e("div",X,[i(" ( "),e("div",null,[e("span",ee,"contrato "+I(t.contrato1),1)]),e("div",null,[e("span",ae,", contrato "+I(t.contrato2),1)]),i(" ) ")])]),e("div",oe,[l(d,{onClick:g=>a.abriPDf(t.url),class:"mr-2",style:{width:"20px",height:"20px","padding-left":"3px",border:"solid #1a2843 1px"}},{default:s(()=>[le]),_:2},1032,["onClick"]),l(d,{onClick:g=>a.abriPDf(t.url),class:"mr-2",style:{width:"20px",height:"20px","padding-left":"3px",border:"solid #1a2843 1px"}},{default:s(()=>[te]),_:2},1032,["onClick"]),l(d,{danger:"",onClick:g=>R(t.id),style:{width:"20px",height:"20px","padding-left":"3px"}},{default:s(()=>[se]),_:2},1032,["onClick"])])])]))),128))])])]),_:1}),e("div",re,[l(G,{open:p.value,"onUpdate:open":o[3]||(o[3]=t=>p.value=t),width:"580px",title:"Seleccion de plaza"},{footer:s(()=>[e("div",ce,[l(d,{type:"primary",loading:c.value,style:{"margin-top":"16px"},onClick:y},{default:s(()=>[i(I(c.value?"Subiendo...":"Inscribirme"),1)]),_:1},8,["loading"])])]),default:s(()=>[l(M,{ref:"formDatos",name:"form",model:r,rules:a.formRules},{default:s(()=>[l(D,{gutter:16},{default:s(()=>[l(N,{xs:24,sm:24,md:24,lg:24},{default:s(()=>[ne,l(C,{name:"programa",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:s(()=>[l(E,{ref:"select",value:r.programa,"onUpdate:value":o[1]||(o[1]=t=>r.programa=t),style:{width:"100%"},options:x.value,onFocus:a.focus,onChange:a.selecionarPrograma},null,8,["value","options","onFocus","onChange"])]),_:1})]),_:1}),l(N,{xs:24,sm:24,md:24,lg:24},{default:s(()=>[ie,l(C,{name:"plazas",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:s(()=>[l(E,{ref:"select",value:r.plazas,"onUpdate:value":o[2]||(o[2]=t=>r.plazas=t),style:{width:"100%"},mode:"multiple",options:f.value,onFocus:a.focus,onChange:a.selecionarPlaza},null,8,["value","options","onFocus","onChange"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["open"])])],64)}}};export{Te as default};
